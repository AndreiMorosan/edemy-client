(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{8576:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/instructor/course/create",function(){return a(23420)}])},13200:function(e,n,a){"use strict";var r=a(26042),t=a(69396),s=a(85893),i=a(44617),c=a(63922),o=a(86871),l=a(71577),u=i.Z.Option,d=function(e){for(var n=e.handleSubmit,a=e.handleImage,d=e.handleChange,h=e.values,m=e.setValues,p=e.preview,g=e.uploadButtonText,f=e.handleImageRemove,v=e.editPage,x=[],j=9.99;j<=100.99;j++)x.push((0,s.jsxs)(u,{children:["$",j.toFixed(2)]},j.toFixed(2)));return(0,s.jsx)(s.Fragment,{children:h&&(0,s.jsxs)("form",{onSubmit:n,children:[(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Name",value:h.name,onChange:d})}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("textarea",{name:"description",cols:"7",rows:"7",value:h.description,className:"form-control",onChange:d})}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsx)("div",{className:"col",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsxs)(i.Z,{style:{width:"100%"},size:"large",value:h.paid,onChange:function(e){return m((0,t.Z)((0,r.Z)({},h),{paid:e,price:0}))},children:[(0,s.jsx)(u,{value:!0,children:"Paid"}),(0,s.jsx)(u,{value:!1,children:"Free"})]})})}),h.paid&&(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)(i.Z,{defaultValue:"$9.99",style:{widht:"100%"},onChange:function(e){return m((0,t.Z)((0,r.Z)({},h),{price:e}))},tokenSeparators:[,],size:"large",children:x})})]}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"text",name:"category",className:"form-control",placeholder:"Category",value:h.category,onChange:d})}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsx)("div",{className:"col",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsxs)("label",{className:"btn btn-outline-secondary btn-block text-left",children:[g,(0,s.jsx)("input",{type:"file",name:"image",onChange:a,accept:"image/*",hidden:!0})]})})}),p&&(0,s.jsx)(c.Z,{count:"X",onClick:void 0===f?function(e){return e}:f,className:"pointer",children:(0,s.jsx)(o.C,{width:200,src:p})}),void 0!==v&&v&&h.image&&(0,s.jsx)(o.C,{width:200,src:h.image.Location})]}),(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col",children:(0,s.jsx)(l.Z,{onClick:n,disabled:h.loading||h.uploading,className:"btn btn-primary",loading:h.loading,type:"primary",size:"large",shape:"round",children:h.loading?"Saving...":"Save & Continue"})})})]})})};n.Z=d},341:function(e,n,a){"use strict";a.d(n,{Z:function(){return m}});var r=a(47568),t=a(70655),s=a(85893),i=a(67294),c=a(50196),o=a(11163),l=a(98165),u=a(41664),d=a.n(u),h=function(){var e=(0,i.useState)(""),n=e[0],a=e[1];return(0,i.useEffect)(function(){a(window.location.pathname)},[window.location.pathname]),(0,s.jsxs)("div",{className:"nav flex-column nav-pills",children:[(0,s.jsx)(d(),{href:"/instructor",children:(0,s.jsx)("a",{className:"nav-link ".concat("/instructor"===n&&"active"),children:"Dashboard"})}),(0,s.jsx)(d(),{href:"/instructor/course/create",children:(0,s.jsx)("a",{className:"nav-link mb-2 ".concat("/instructor/course/create"===n&&"active"),children:"Course Create"})}),(0,s.jsx)(d(),{href:"/instructor/revenue",children:(0,s.jsx)("a",{className:"nav-link ".concat("/instructor/revenue"===n&&"active"),children:"Revenue"})})]})},m=function(e){var n,a=e.children,u=(0,i.useState)(!1),d=u[0],m=u[1],p=(0,o.useRouter)();(0,i.useEffect)(function(){g()},[]);var g=(n=(0,r.Z)(function(){var e,n;return(0,t.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,c.Z.get("/api/current-instructor")];case 1:return e=a.sent().data,console.log("INSTRUCTOR ROUTE => ",e),e.ok&&m(!0),[3,3];case 2:return n=a.sent(),console.log(n),m(!1),p.push("/"),[3,3];case 3:return[2]}})}),function(){return n.apply(this,arguments)});return(0,s.jsx)(s.Fragment,{children:d?(0,s.jsx)("div",{className:"container-fluid",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-md-2",children:(0,s.jsx)(h,{})}),(0,s.jsx)("div",{className:"col-md-10",children:a})]})}):(0,s.jsx)(l.Z,{spin:!0,className:"d-flex justify-content-center display-1 text-primary p-5"})})}},23420:function(e,n,a){"use strict";a.r(n);var r=a(47568),t=a(14924),s=a(26042),i=a(69396),c=a(70655),o=a(85893),l=a(67294),u=a(50196),d=a(341),h=a(13200),m=a(76770),p=a.n(m),g=a(22920),f=a(11163),v=function(){var e,n,a=(0,l.useState)({name:"",description:"",price:"9.99",uploading:!1,paid:!0,category:"",loading:!1}),m=a[0],v=a[1],x=(0,l.useState)({}),j=x[0],N=x[1],Z=(0,l.useState)(""),y=Z[0],w=Z[1],b=(0,l.useState)("Upload Image"),C=b[0],_=b[1],S=(0,f.useRouter)(),k=function(e){v((0,i.Z)((0,s.Z)({},m),(0,t.Z)({},e.target.name,e.target.value)))},E=function(e){var n,a=e.target.files[0];w(window.URL.createObjectURL(a)),_(a.name),v((0,i.Z)((0,s.Z)({},m),{loading:!0})),p().imageFileResizer(a,720,500,"JPEG",100,0,(n=(0,r.Z)(function(e){var n,a;return(0,c.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,u.Z.post("/api/course/upload-image",{image:e})];case 1:return n=r.sent().data,console.log("IMAGE UPLOADED",n),N(n),v((0,i.Z)((0,s.Z)({},m),{loading:!1})),[3,3];case 2:return a=r.sent(),console.log(a),v((0,i.Z)((0,s.Z)({},m),{loading:!1})),(0,g.Am)("Image upload failed. Try later."),[3,3];case 3:return[2]}})}),function(e){return n.apply(this,arguments)}))},R=(e=(0,r.Z)(function(){var e;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),v((0,i.Z)((0,s.Z)({},m),{loading:!0})),[4,u.Z.post("/api/course/remove-image",{image:j})];case 1:return n.sent(),N({}),w(""),_("Upload Image"),v((0,i.Z)((0,s.Z)({},m),{loading:!1})),[3,3];case 2:return e=n.sent(),console.log(e),v((0,i.Z)((0,s.Z)({},m),{loading:!1})),(0,g.Am)("Image upload failed. Try later."),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)}),I=(n=(0,r.Z)(function(e){var n;return(0,c.__generator)(this,function(a){switch(a.label){case 0:e.preventDefault(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,u.Z.post("/api/course",(0,i.Z)((0,s.Z)({},m),{image:j}))];case 2:return a.sent().data,(0,g.Am)("Great! Now you can start adding lessons"),S.push("/instructor"),[3,4];case 3:return n=a.sent(),(0,g.Am)(n.response.data),[3,4];case 4:return[2]}})}),function(e){return n.apply(this,arguments)});return(0,o.jsxs)(d.Z,{children:[(0,o.jsx)("h1",{className:"jumbotron text-center square",children:"Create Course"}),(0,o.jsx)("div",{className:"pt-3 pb-3",children:(0,o.jsx)(h.Z,{handleSubmit:I,handleImage:E,handleChange:k,values:m,setValues:v,preview:y,uploadButtonText:C,handleImageRemove:R})}),(0,o.jsx)("pre",{children:JSON.stringify(m,null,4)}),(0,o.jsx)("hr",{}),(0,o.jsx)("pre",{children:JSON.stringify(j,null,4)})]})};n.default=v}},function(e){e.O(0,[577,805,985,774,888,179],function(){return e(e.s=8576)}),_N_E=e.O()}]);